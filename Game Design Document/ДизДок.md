# Дизайн-документ Pear Team Studio

- [Дизайн-документ Pear Team Studio](#дизайн-документ-pear-team-studio)
- [Терминология](#терминология)
      - [Время койота](#время-койота)
      - [Состояние покоя](#состояние-покоя)
- [Жанр и синопсис](#жанр-и-синопсис)
- [Клавиши управления](#клавиши-управления)
- [Стиль игры](#стиль-игры)
  - [Кратко про главную механику игры.](#кратко-про-главную-механику-игры)
  - [Главный герой](#главный-герой)
    - [Система передвижения игрока](#система-передвижения-игрока)
    - [Боевая система игрока](#боевая-система-игрока)
  - [Рыцарь церкви](#рыцарь-церкви)

# Терминология
#### Время койота
Это техника в разработке игр, при которой игрокам даются дополнительные доли секунды на совершение действия уже после его предполагаемого завершения с целью дать игроку ощущение, что он успел сделать его в самый последний момент. Чаще всего это используют в платформерах при прыжках с платформ - персонаж уже не стоит на платформе и с секунды на секунду начнёт падать, но у него всё ещё есть возможность совершить прыжок. 

#### Состояние покоя
Это состояние персонажа, когда он не совершает какие-либо действия. Обычно в этот момент проигрывается анимация покоя.

# Жанр и синопсис
**Жанр игры** --- линейное 2D action RPG с видом сверху.

**Синопсис**\
Действия происходят во время средневековья в огромном королевстве. Не так давно люди открыли для себя чудеса магии и в данный момент активно изучают её. Развитие механических технологий замедляется.
После долгой войны между церковниками и королём-тираном установилось правление церкви. Жизнь в королевстве налаживается. Исчез многолетний голод и снизилось число преступлений. Увеличивается армия и готовится поход на соседнее королевство с целью вернуть утраченные земли.
Воодушевлённые люди не хотят замечать слухи о бесследной пропаже людей и появлении странной чёрной магии.

Главный герой - поверженный король, труп которого бесследно исчез сразу после битвы. Чёрная магия помогла королю спастись. Он превратился в монстра, который вынужден постоянно совершать зло, чтобы подпитывать в себе жизнь. Поможет ему в этом способность копировать облик и поведение своих жертв.

Игроку предстоит узнать о прошлом главного героя из найденных на уровнях записок с историей про некого загадочного персонажа.

Спустя много лет подготовки он отправляется в кровавый поход с целью вернуть трон. Первым препятствием на его пути становится небольшая деревня. Пришедший монстр сеет ужас среди крестьян, поэтому небольшому отряду рыцарей приходится взяться за оружие. С этого момента начинается игра. 

Вырезав деревню, король отправляется в город. Там заранее узнали о приближающейся угрозе, поэтому хорошо подготовились. На улицах полно стражи, а ворота в квартал учёных закрыты. Чтобы их открыть, придётся уничтожить особый магический дух, вселяющийся в своих защитников и пользующийся ими как живым щитом.

После мясорубки в городе, король прибывает в квартал учёных. Здешние исследователи магии и технологий уже готовы к бою. Они активируют магическую машину, которая подобно главному герою изменяет себя для эффективного уничтожения цели. Чтобы выжить, игроку приходится использовать облики нападающих противников, а чтобы победить - атаковать машину в моменты её перегрузки. 

Магическая машина уничтожена. Главный герой ломает ворота в королевский квартал. Там его уже поджидают элитные воины церкви. Король пробирается в дворец. У трона он встречает главу церкви, лишившего его жизни. Тот понимает, что ему не одолеть монстра, если это не смоли сделать его лучшие воины, поэтому он обращается к чёрной магии. Появляются 2 похожих на нашего главного героя монстра. Они эффективно меняют облики и поведение, чтобы защищаться и атаковать. Начинается жестокая финальная схватка.

Король убивает монстров, а также главу церкви. Он садится на трон и игра заканчивается. Королевство вновь погружается в тёмные времена.


**Похожие игры:**
- Mageseeker: a league of legends story 
 ![mageseeker: a league of legends story_1](mageseeker_1.png)
 ![mageseeker: a league of legends story_2](mageseeker_2.jpg)
- Children of Morta (2019) (_Не смотрел, что за игра_)
- Omensight (2018)  (_Не смотрел, что за игра_)
  
# Клавиши управления
Название клавиши действия | Сокращение | Клавиша на клавиатуре и мыши | Клавиша на джойстике
-|-|-|-
Клавиша движения вверх | Кл.вверх // Кл.движения | W |
Клавиша движения вниз | Кл.вниз // Кл.движения | S |
Клавиша движения вправо | Кл.вправо // Кл.движения | D |
Клавиша движения влево | Кл.влево // Кл.движения | A |
Клавиша атаки | Кл.атаки | Левая кнопка мыши |
Клавиша скопировать облик | Кл.облик | Правая кнопка мыши |
Клавиша действия | Кл.Д. | F |
Клавиша рывка/бега | Кл.Рыв | Shift |
Клавиша спецприёма | Кл.Спец | Space |
Клавиша использовать расходник 1 | Кл.1 | 1 |
Клавиша использовать расходник 2 | Кл.2 | 2 |
Клавиша использовать расходник 3 | Кл.3 | 3 |
Клавиша паузы/меню | Кл.Пауза | Esc |

# Стиль игры



## Кратко про главную механику игры.
Персонаж игрока обладает способностью перевоплатится в любого врага, находящегося в зоне доступности. Таким образом, если в зоне доступности находятся гигант, рыцарь и лучник, то игрок может принять облик любого из них, сохранив все способности выбранного противника. 

![The main mechanics of the game](The-main-mechanics-of-the-game.png) 

К каждому противнику нужен свой подход. Например, рыцарь эффективен против лучников, лучники - против гигантов, гиганты - против рыцарей. Таким образом, игрок будет играть более эффективно, если будет регулярно пользоваться способностью к перевоплащению.

За убийство противников, игрок востанавливает небольшое количество очков здоровья. Это побуждает игрока более эффективно убивать врагов (для быстрого востановления здоровья).

Каждое перевоплащение отнимает у игрока очки здоровья. Это побуждает его разумнее относится к выбору необходимого облика. **(Это под вопросом. см. комментарий)**
<!-- Это очень сомнительное решение. Тут нужно понять, нужно ли это дополнительное ограничение для игрока, если он и так заинтересован в эффективном выборе нужного облика ради восполнения здоровья от убийств. Возможно, это нужно лишь для ограничения количества перевоплащений. Это увеличивает вероятность совершить ошибку, но не увеличивает челленджовость. Также если количество утеряного здоровья будет больше, чем потенциальное его увеличение, то игрок не будет менять облик и предпочтёт неэффективно убить противника, что хоть и добавляет некоторые игровые ситуации, но вынуждает игрока скучно проходить игру.]*-->

## Главный герой
### Система передвижения игрока
Передвижение персонажа осуществляется в 8-ми направлениях.
Игрок зажимает любые клавиши движения (одну или две соседнии клавиши, например [кл.вверх + кл.вправо] или [кл.вниз + кл.вправо]) --> запускается анимация "Бег" --> персонаж перемещается в заданном направлении с одинаковой скоростью.
При отпускании клавиш движения персонаж останавливается и запускается анимация "Покой".

<img 
style="display: block; 
margin-left: auto;
margin-right: auto;
width: 30%;"
src="8_directions.png" alt="8 направлений движений главного персонажа"
/>

### Боевая система игрока
При нажатии кл.атаки запускается анимация "Удар" и атакуемому объекту наносится урон, если он попадает в область поражения. 
После конца анимации "Удар" запускается анимация
- "Покой", если игрок перестаёт совершать какие-то действия;
- "Бег", если игрок 
-  или В случае, если предусмотрена возможность сделать комбо из нескольких атак, то игрок может 

## Рыцарь церкви 
__Описание:__

Проворный и очень быстрый воин ближнего боя, составляющий бо́льшую часть церковной армии. Экипирован в среднюю броню, которая хорошо защищает носителя от стрел. Владеет лёгким и длинным мечом, способным наносить значительный урон целям с лёгкой бронёй. Обладает способностью делать рывок, а также наносить несколько ударов подряд.
Особо эффективен против лучников и магов.

__Механики:__

--- __Комбо-атака__
Рыцарь может наносить до 3-х быстрых размашистых ударов подряд, каждый из которых немного подталкивает его по направлению к цели.

1. Комбо начинается с нажатия на кл.атаки;
2. Запускается анимация атаки, появляется запрет на управление персонажем и регистрируется нанесённый по противнику удар;
3. После регистрации удара и проигрывания основной части анимации снимается запрет на управление персонажем;
4. Далее есть 2 варианта событий:
4.1. Подождать завершения анимации и окончание [времени койота](#время-койота). Тогда комбо-атака прекратится и персонаж перейдёт в [состояние покоя](#состояние-покоя).
4.2. Совершить любое действие. Таким образом можно прервать комбо-атаку, например, если нажать на кл.движения. Или продолжить комбо-атаку, нажав на кл.атаки, совершив следующий удар (переход на шаг 1). Если сделано уже 3 удара, то 4-й сделать нельзя, но всё ещё можно совершить другое действие.

<img 
style="display: block; 
margin-left: auto;
margin-right: auto;
width: 100%;"
src="Блок схема комбо-атаки рыцаря церкви.png" alt="Алгоритм комбо-атаки рыцаря церкви"
/>

--- __Рывок__



